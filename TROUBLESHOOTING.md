# 故障排查指南

## HTTP 502 错误解决方案

### 问题描述
访问前端时出现 `HTTP ERROR 502` 错误。

### 解决方案

#### 1. 确认访问地址正确

**❌ 错误地址：**
- `http://0.0.0.0:5444` （不能直接访问）

**✅ 正确地址：**
- `http://127.0.0.1:5444`
- `http://localhost:5444`

#### 2. 检查服务是否正在运行

在 PowerShell 中运行：
```powershell
# 检查端口是否被占用
netstat -ano | findstr :5444
```

如果看到输出，说明服务正在运行。

#### 3. 检查防火墙设置

Windows 防火墙可能阻止了连接：
1. 打开"Windows Defender 防火墙"
2. 点击"允许应用通过防火墙"
3. 确保 Python 被允许通过防火墙

#### 4. 尝试使用 127.0.0.1 而不是 localhost

有时 `localhost` 可能解析有问题，直接使用 `127.0.0.1:5444`

#### 5. 检查浏览器控制台

按 F12 打开浏览器开发者工具，查看：
- Console 标签页是否有错误
- Network 标签页查看请求状态

#### 6. 重启服务

如果以上都不行，尝试：
1. 停止当前服务（Ctrl+C）
2. 重新启动：
```powershell
python -m uvicorn app.main:app --host 127.0.0.1 --port 5444
```

注意：使用 `127.0.0.1` 而不是 `0.0.0.0` 可以避免一些网络问题。

#### 7. 检查服务日志

查看启动服务的终端窗口，是否有错误信息。

### 常见问题

**Q: 为什么不能访问 0.0.0.0？**
A: `0.0.0.0` 是一个特殊的 IP 地址，表示监听所有网络接口，但不能直接访问。必须使用 `127.0.0.1` 或 `localhost`。

**Q: 服务显示启动成功，但访问还是 502？**
A: 可能是：
- 浏览器缓存问题，尝试硬刷新（Ctrl+F5）
- 防火墙阻止
- 端口被其他程序占用

**Q: 如何确认服务真的在运行？**
A: 在浏览器中访问 `http://127.0.0.1:5444/docs`，如果看到 FastAPI 的 API 文档页面，说明服务正常。

